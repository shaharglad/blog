<div class="panel-group" id="accordion">
    <div *ngFor="let post of posts">
        <div class="panel panel-default">
            <div class="panel-heading">
                <h4 class="panel-title">
                    <a data-toggle="collapse" data-parent="#accordion" href="#collapse_{{post._id}}">
                        {{post.title}}</a>
                    <input type="button" (click)="deletePost(post._id)" value="Delete" class="btn btn-danger" >
                </h4>
            </div>
            <div id="collapse_{{post._id}}" class="panel-collapse collapse">
                <div class="panel-body">
                    <form (submit)="updatePost(post)" #updatePostForm="ngForm">
                        <div class="form-group">
                            <label class="control-label">Author</label>
                            <input type="text" class="form-control" [(ngModel)]="post.author" name="author" #author="ngModel" required>
                            <div *ngIf="!author.valid" class="alert alert-danger">
                            Author is required
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label">Title</label>
                            <input type="text" class="form-control" [(ngModel)]="post.title" name="title" #title="ngModel" required>
                            <div *ngIf="!title.valid" class="alert alert-danger">
                                Title is required
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label">Content</label>
                            <textarea type="text" class="form-control" [(ngModel)]="post.content" name="content" #content="ngModel" required ></textarea>
                            <div *ngIf="!content.valid" class="alert alert-danger">
                                Content is required
                            </div>
                        </div>
                        <button type="submit" class="btn btn-success" [disabled]="!updatePostForm.form.valid || updatePostForm.form.pristine">Save</button>
                    </form>
                </div>
            </div>
        </div>
     </div>
</div>

<button type="button" class="btn btn-info" data-toggle="collapse" data-target="#newPost">Add New Post</button>
<div id="newPost" class="collapse">
    <h1>Add New Post</h1>
    <form (submit)="addPost($event)" #newPostForm="ngForm">
        <div class="form-group">
            <label for="addAuthor">Author</label>
            <input type="text" class="form-control" id="addAuthor" [(ngModel)]="author" name="addAuthor" #addAuthor="ngModel" required>
            <div *ngIf="!addAuthor.valid && addAuthor.dirty" class="alert alert-danger">
                Author is required
            </div>
        </div>
        <div class="form-group">
            <label for="addTitle">Title</label>
            <input type="text" class="form-control" id="addTitle" [(ngModel)]="title" name="addTitle" #addTitle="ngModel" required>
            <div *ngIf="!addTitle.valid && addTitle.dirty" class="alert alert-danger">
                Title is required
            </div>
        </div>
        <div class="form-group">
            <label for="addContent">Content</label>
            <textarea type="text" class="form-control" id="addContent" [(ngModel)]="content" name="addContent" #addContent="ngModel" required></textarea>
            <div *ngIf="!addContent.valid && addContent.dirty" class="alert alert-danger">
                Content is required
            </div>
        </div>
        <button type="submit" class="btn btn-success" [disabled]="!newPostForm.form.valid">Submit</button>
    </form>
</div>


<br/>
<br/>

